<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–í–µ—Å–Ω—è–Ω–µ –∫–æ–ª–µ—Å–æ —É–¥–∞—á—ñ ü§û</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:radial-gradient(circle,#f3e8ff,#d8b4fe,#fbcfe8);
    text-align:center;
    overflow:hidden;
}

/* –ø–∞–¥–∞—é—á—ñ –∫–≤—ñ—Ç–∏ */
.roses{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:1;
}
.rose{
    position:absolute;
    top:-100px;
    animation:fall linear forwards;
}
@keyframes fall{
    to{
        transform:translateY(110vh) rotate(720deg);
        opacity:.9;
    }
}

h1{
    margin-top:15px;
    color:white;
    text-shadow:0 0 15px #c084fc;
}

/* –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–ª–µ—Å–∞ */
.wheel-wrapper{
    position:relative;
    width:min(90vw,520px);
    height:min(90vw,520px);
    margin:25px auto;
}

/* –∫–æ–ª–µ—Å–æ */
#wheel{
    width:100%;
    height:100%;
    border-radius:50%;
    box-shadow:
        0 0 40px #c084fc,
        0 0 80px #f472b6,
        inset 0 0 40px rgba(255,255,255,.6);
    transition: transform 5s cubic-bezier(.17,.67,.12,.99);
}

/* —Ü–µ–Ω—Ç—Ä */
.center-logo{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:70px;
    height:70px;
    background:white;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:5;
}
.center-logo img{
    width:85%;
    height:85%;
    object-fit:contain;
}

/* —Å—Ç—Ä—ñ–ª–∫–∞ */
.pointer{
    position:absolute;
    top:-15px;
    left:50%;
    transform:translateX(-50%);
    border-left:22px solid transparent;
    border-right:22px solid transparent;
    border-top:45px solid white;
    filter:drop-shadow(0 0 10px white);
    z-index:10;
}

/* –∫–Ω–æ–ø–∫–∞ */
button{
    padding:15px 35px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:white;
    color:#7e22ce;
    cursor:pointer;
    font-weight:bold;
    transition:.3s;
}
button:hover{transform:scale(1.1)}

/* —Ä–µ–∑—É–ª—å—Ç–∞—Ç */
#result{
    margin-top:20px;
    font-size:24px;
    font-weight:bold;
    color:white;
    opacity:0;
    transform:scale(.5);
    transition:.6s;
}
#result.show{
    opacity:1;
    transform:scale(1.2);
}

/* —Ç–µ–ª–µ—Ñ–æ–Ω */
@media(max-width:500px){
h1{font-size:20px}
button{font-size:16px;padding:12px 25px}
.center-logo{width:60px;height:60px}
.pointer{
    border-left:18px solid transparent;
    border-right:18px solid transparent;
    border-top:38px solid white;
}
#result{font-size:18px}
}
</style>
</head>

<body>

<audio id="bgMusic" autoplay muted loop>
<source src="music.mp3" type="audio/mpeg">
</audio>

<div class="roses"></div>

<h1>–í–µ—Å–Ω—è–Ω–µ –∫–æ–ª–µ—Å–æ —É–¥–∞—á—ñ ü§û</h1>

<div class="wheel-wrapper">
<div class="pointer"></div>
<canvas id="wheel"></canvas>

<div class="center-logo">
<img src="logo.png">
</div>
</div>

<button onclick="spin()">–ö—Ä—É—Ç–∏ –∫–æ–ª–µ—Å–æ</button>
<div id="result"></div>

<script>
const canvas=document.getElementById("wheel");
const ctx=canvas.getContext("2d");

/* –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π —Ä–æ–∑–º—ñ—Ä canvas */
function resizeCanvas(){
const size=canvas.offsetWidth;
canvas.width=size;
canvas.height=size;
drawWheel();
}
window.addEventListener("resize",resizeCanvas);
resizeCanvas();

/* –ø—Ä–∏–∑–∏ */
const prizes=[
"–î–µ–Ω—å –±–µ–∑ —Ç—É—Ä–±–æ—Ç",
"100% –≤–µ—Å–Ω—è–Ω–∏–π –Ω–∞—Å—Ç—Ä—ñ–π",
"–î–µ–Ω—å –±–µ–∑ –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è",
"–á–º —É—Å–µ —â–æ —Ö–æ—á—É",
"–ü—Ä–∞—Ü—é—é –Ω–µ —è",
"–ö—É—Ö–Ω—è —Å—å–æ–≥–æ–¥–Ω—ñ –≤–∏—Ö—ñ–¥–Ω–∞",
"–†–æ–±–ª—é —â–æ —Ö–æ—á—É",
"–í—ñ–¥–ø–æ—á–∏–≤–∞—é —â–µ –∑–∞–≤—Ç—Ä–∞",
"–†–µ–∂–∏–º –ë–æ–≥–∏–Ω—è",
"–í—ñ–¥–ø–æ—á–∏–Ω–æ–∫ –¥–æ 00:00"
];

let slices=prizes.length;
let angle;

/* –ø–µ—Ä–µ–Ω–æ—Å —Ä—è–¥–∫—ñ–≤ */
function wrap(text,x,y,maxWidth,lineHeight){
let words=text.split(" ");
let line="";
for(let n=0;n<words.length;n++){
let test=line+words[n]+" ";
if(ctx.measureText(test).width>maxWidth && n>0){
ctx.fillText(line,x,y);
line=words[n]+" ";
y+=lineHeight;
}else line=test;
}
ctx.fillText(line,x,y);
}

/* –º–∞–ª—é–≤–∞–Ω–Ω—è –∫–æ–ª–µ—Å–∞ */
function drawWheel(){
slices=prizes.length;
angle=2*Math.PI/slices;

const size=canvas.width;
const center=size/2;
const radius=size/2;

const colors=["#c084fc","#f472b6","#a78bfa","#e879f9","#f0abfc","#d946ef","#9333ea","#ec4899","#8b5cf6","#db2777"];

ctx.clearRect(0,0,size,size);

for(let i=0;i<slices;i++){
ctx.beginPath();
ctx.fillStyle=colors[i%colors.length];
ctx.moveTo(center,center);
ctx.arc(center,center,radius,i*angle,(i+1)*angle);
ctx.fill();

ctx.save();
ctx.translate(center,center);
ctx.rotate(i*angle+angle/2);
ctx.textAlign="center";
ctx.fillStyle="white";
ctx.font=`bold ${radius*0.08}px sans-serif`;
wrap(prizes[i],radius*0.65,0,radius*0.8,radius*0.12);
ctx.restore();
}
}

/* –æ–±–µ—Ä—Ç–∞–Ω–Ω—è */
let rotation=0;
let spinning=false;

function spin(){
playMusic();
if(spinning)return;
spinning=true;

const result=document.getElementById("result");
result.classList.remove("show");
result.textContent="";

const spinDeg=360*6+Math.floor(Math.random()*360);
rotation+=spinDeg;
canvas.style.transform=`rotate(${rotation}deg)`;

setTimeout(()=>{
let actualDeg=rotation%360;
let pointerDeg=270;
let finalDeg=(pointerDeg-actualDeg+360)%360;
let sliceDeg=360/slices;
let index=Math.floor(finalDeg/sliceDeg);

result.textContent=prizes[index];
result.classList.add("show");
spinning=false;
},5000);
}

/* –∫–≤—ñ—Ç–∏ */
const rosesContainer=document.querySelector(".roses");
const roseImages=["rose1.png","rose2.png","rose3.png"];

function createRose(){
const rose=document.createElement("img");
rose.className="rose";
rose.src=roseImages[Math.floor(Math.random()*roseImages.length)];
rose.style.left=Math.random()*100+"vw";
rose.style.width=(30+Math.random()*40)+"px";
rose.style.animationDuration=(5+Math.random()*5)+"s";
rosesContainer.appendChild(rose);
setTimeout(()=>rose.remove(),9000);
}
setInterval(createRose,400);

/* –∑–∞–ø—É—Å–∫ –º—É–∑–∏–∫–∏ */
function playMusic(){
const m=document.getElementById("bgMusic");
m.muted=false;
m.play().catch(()=>{});
}
window.addEventListener("click",playMusic,{once:true});
</script>

</body>
</html>
